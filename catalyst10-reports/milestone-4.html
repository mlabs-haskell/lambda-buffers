<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Milestone 4: Separate PlutusTx backend and improvements to existing LambdaBuffers facilities - Lambda Buffers documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../using-lambdabuffers.html"><strong aria-hidden="true">2.</strong> Using LambdaBuffers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../haskell.html"><strong aria-hidden="true">2.1.</strong> LambdaBuffers to Haskell</a></li><li class="chapter-item expanded "><a href="../plutustx.html"><strong aria-hidden="true">2.2.</strong> LambdaBuffers to PlutusTx</a></li><li class="chapter-item expanded "><a href="../purescript.html"><strong aria-hidden="true">2.3.</strong> LambdaBuffers to Purescript</a></li><li class="chapter-item expanded "><a href="../plutarch.html"><strong aria-hidden="true">2.4.</strong> LambdaBuffers to Plutarch</a></li><li class="chapter-item expanded "><a href="../rust.html"><strong aria-hidden="true">2.5.</strong> LambdaBuffers to Rust</a></li><li class="chapter-item expanded "><a href="../typescript.html"><strong aria-hidden="true">2.6.</strong> LambdaBuffers to Typescript</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><a href="../getting-started.html"><strong aria-hidden="true">3.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../design.html"><strong aria-hidden="true">4.</strong> Design</a></li><li class="chapter-item expanded "><a href="../api.html"><strong aria-hidden="true">5.</strong> API</a></li><li class="chapter-item expanded "><a href="../syntax.html"><strong aria-hidden="true">6.</strong> LambdaBuffers Frontend (.lbf) syntax</a></li><li class="chapter-item expanded "><a href="../compiler.html"><strong aria-hidden="true">7.</strong> Compiler</a></li><li class="chapter-item expanded "><a href="../codegen.html"><strong aria-hidden="true">8.</strong> Codegen</a></li><li class="chapter-item expanded "><a href="../command-line-interface.html"><strong aria-hidden="true">9.</strong> Command line interface</a></li><li class="chapter-item expanded "><a href="../comparison-matrix.html"><strong aria-hidden="true">10.</strong> Comparison matrix</a></li><li class="chapter-item expanded "><a href="../aiken-integration.html"><strong aria-hidden="true">11.</strong> Aiken Research Document</a></li><li class="chapter-item expanded "><a href="../catalyst-reports.html"><strong aria-hidden="true">12.</strong> Catalyst reports</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../catalyst09-reports/index.html"><strong aria-hidden="true">12.1.</strong> Catalyst 9 reports</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../catalyst09-reports/milestone-1.html"><strong aria-hidden="true">12.1.1.</strong> Milestone 1: Research</a></li><li class="chapter-item expanded "><a href="../catalyst09-reports/milestone-2.html"><strong aria-hidden="true">12.1.2.</strong> Milestone 2: End to end proof of concept</a></li><li class="chapter-item expanded "><a href="../catalyst09-reports/milestone-3.html"><strong aria-hidden="true">12.1.3.</strong> Milestone 3: Testing and documentation</a></li><li class="chapter-item expanded "><a href="../catalyst09-reports/milestone-3.html"><strong aria-hidden="true">12.1.4.</strong> Milestone 4: Project adoption</a></li></ol></li><li class="chapter-item expanded "><a href="../catalyst10-reports/index.html"><strong aria-hidden="true">12.2.</strong> Catalyst 10 reports</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../catalyst10-reports/milestone-1.html"><strong aria-hidden="true">12.2.1.</strong> Milestone 1: Rust support</a></li><li class="chapter-item expanded "><a href="../catalyst10-reports/milestone-2.html"><strong aria-hidden="true">12.2.2.</strong> Milestone 2: Javascript/Typescript support</a></li><li class="chapter-item expanded "><a href="../catalyst10-reports/milestone-3.html"><strong aria-hidden="true">12.2.3.</strong> Milestone 3: Aiken integration research and development</a></li><li class="chapter-item expanded "><a href="../catalyst10-reports/milestone-4.html" class="active"><strong aria-hidden="true">12.2.4.</strong> Milestone 4: Separate PlutusTx backend and improvements to existing LambdaBuffers facilities</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Lambda Buffers documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="catalyst-milestone-4-separate-plutustx-backend-and-improvements-to-existing-lambdabuffers-facilities"><a class="header" href="#catalyst-milestone-4-separate-plutustx-backend-and-improvements-to-existing-lambdabuffers-facilities">Catalyst milestone 4: Separate PlutusTx backend and improvements to existing LambdaBuffers facilities</a></h1>
<h2 id="outputs"><a class="header" href="#outputs">Outputs</a></h2>
<ul>
<li>
<p><input disabled="" type="checkbox" checked=""/>
A separate code generator for Haskell and PlutusTx</p>
<ul>
<li>
<p><input disabled="" type="checkbox" checked=""/>
A separate LambdaBuffers code generation module that outputs type definitions and derived implementations for Haskell's Prelude and PlutusTx's Prelude (or equivalent LambdaBuffers' Preludes) given a LambdaBuffers schema.</p>
<ul>
<li>
<p>The common files for code generation of both Haskell's Prelude and PlutusTx's Prelude can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/Haskell">here</a></p>
</li>
<li>
<p>The Haskell code generator implementation can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/Haskell.hs">here</a></p>
</li>
<li>
<p>The PlutusTx code generator implementation can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/PlutusTx.hs">here</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
A Haskell test suite that assures the manually implemented and automatically generated implementations are consistent with the predefined LambdaBuffers Prelude golden data set of JSON files and perform correct implementation derivation.</p>
<ul>
<li>The Haskell test suite can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/testsuites/lbt-prelude/lbt-prelude-haskell">here</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Nix devops modules (Nix API) for streamlining the LambdaBuffers code generation pipeline to either Haskell's Prelude or PlutusTx's Prelude.</p>
<ul>
<li>
<p>A Nix API for streamlining LambdaBuffers code generation Haskell's Prelude can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/extras/lbf-nix/build.nix#L17">here</a></p>
</li>
<li>
<p>The Nix API for streamlining LambdaBuffers code generation PlutusTx's Prelude can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/extras/lbf-nix/build.nix#L22">here</a>
or PlutusTx's Prelude can be found</p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Documentation on LambdaBuffers usage patterns for Haskell's Prelude and PlutusTx's Prelude</p>
<ul>
<li>
<p>Documentation for Haskell's Prelude can be found <a href="https://mlabs-haskell.github.io/lambda-buffers/haskell.html">here</a>.</p>
</li>
<li>
<p>Documentation for PlutusTx's Prelude can be found <a href="https://mlabs-haskell.github.io/lambda-buffers/plutustx.html">here</a>.</p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
A complete Plutus .lbf schema file to include all Plutus Ledger API types with backend support for Rust, TypeScript, and PureScript.</p>
<ul>
<li>
<p>The <code>.lbf</code> schema file for V1 Plutus Ledger API can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/libs/lbf-plutus/Plutus/V1.lbf">here</a></p>
</li>
<li>
<p>The <code>.lbf</code> schema file for V2 Plutus Ledger API can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/libs/lbf-plutus/Plutus/V2.lbf">here</a></p>
</li>
<li>
<p>Rust backend support is given by the JSON file <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/data/rust-plutus-pla.json">here</a> where the types are provided by <a href="https://github.com/mlabs-haskell/plutus-ledger-api-rust">this package</a>.</p>
</li>
<li>
<p>TypeScript backend support is given by the JSON file <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/data/typescript-plutus.json">here</a> where the types are provided by <a href="https://github.com/mlabs-haskell/plutus-ledger-api-typescript">this package</a></p>
</li>
<li>
<p>PureScript backend support is given by the JSON file <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/data/purescript-plutus-ctl.json">here</a> where the types are provided by <a href="https://github.com/Plutonomicon/cardano-transaction-lib">this package</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
An extended integration test suite to verify that the manually implemented and automatically implemented instances of the updated LambdaBuffers' Plutus .lbf schema file are consistent across all backends.</p>
<ul>
<li>The extended integration test suite to verify that the manually implemented and automatically implemented instances of the updated LambdaBuffers' PlutusTx .lbf schema file are consistent across all backends can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/testsuites/lbt-plutus">here</a>.</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
A versioning scheme for the LambdaBuffers git repository using git tags that follow semantic versioning.</p>
<ul>
<li>
<p>A versioning scheme for the git repository using git tags that follows semantic versioning is given in the <a href="https://github.com/mlabs-haskell/lambda-buffers/releases">Releases page</a></p>
</li>
<li>
<p>Documentation for how the versioning scheme interplays with the monorepo setup is described in the <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Optimized Nix build times.</p>
<ul>
<li>
<p>This was fixed in <a href="https://github.com/mlabs-haskell/lambda-buffers/pull/233">#233</a>.
It's well known that (in the version of Nix used with LambdaBuffers) <a href="https://github.com/NixOS/nix/issues/6626">large <code>flake.lock</code> files are a detriment to performance</a>.
So prior of #233, in e.g. <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/9ae3705f3f1a5c2506c7f86c8d5643c38d79e849">9ae3705f3f1a5c2506c7f86c8d5643c38d79e849</a>, we see that</p>
<pre><code class="language-bash">$ git checkout 9ae3705f3f1a5c2506c7f86c8d5643c38d79e849
$ time nix flake lock

real    0m27.437s
user    0m27.331s
sys     0m0.116s

$ wc -l flake.lock
44552 flake.lock
</code></pre>
<p>it takes almost 28 seconds to execute the <code>nix flake lock</code> command due to the almost 45000 lines large <code>flake.lock</code> file.</p>
<p>After the merge of #233, in e.g. <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/401f8a920a557c71440795174da199a1e128c4f9">401f8a920a557c71440795174da199a1e128c4f9</a>, we see significantly improved Nix performance</p>
<pre><code class="language-bash">$ git checkout 401f8a920a557c71440795174da199a1e128c4f9
$ time nix flake lock

real    0m1.423s
user    0m1.348s
sys     0m0.067s

$ wc -l flake.lock
11585 flake.lock
</code></pre>
<p>where it now takes only about 1.5 seconds to execute the <code>nix flake lock</code> command due to the significantly reduced <code>flake.lock</code> file size of being just under 12000 lines.</p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Error messages that follow the GNU error message format.</p>
<ul>
<li>This was implemented in PR <a href="https://github.com/mlabs-haskell/lambda-buffers/pull/147">#147</a> and PR <a href="https://github.com/mlabs-haskell/lambda-buffers/pull/249">#249</a>. See below for examples of following the GNU error message format.</li>
</ul>
</li>
</ul>
<h2 id="acceptance-criteria"><a class="header" href="#acceptance-criteria">Acceptance Criteria</a></h2>
<ul>
<li>
<p><input disabled="" type="checkbox" checked=""/>
An executable and Nix tooling to translate LambdaBuffers modules to Haskell projects to specify application types.</p>
<ul>
<li>
<p>An executable to translate LambdaBuffers modules to Haskell projects is given in the Nix attribute <code>lbf-prelude-to-haskell</code> defined <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-frontend/build.nix#L73-L86">here</a></p>
</li>
<li>
<p>Convenient Nix tooling to translate LambdaBuffers modules to Haskell projects is given in the Nix function <code>lbfPreludeHaskell</code> defined here <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/extras/lbf-nix/build.nix#L17">here</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
An executable and Nix tooling to translate LambdaBuffers modules to PlutusTx projects to specify application types.</p>
<ul>
<li>
<p>An executable to translate LambdaBuffers modules to PlutusTx projects is given in the Nix attribute <code>lbf-plutus-to-plutustx</code> defined <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-frontend/build.nix#L124-L140">here</a></p>
</li>
<li>
<p>Convenient Nix tooling to translate LambdaBuffers modules to PlutusTx projects is given in the Nix function <code>lbfPlutusTx</code> defined here <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/extras/lbf-nix/build.nix#L22">here</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
An updated LambdaBuffers Plutus schema for the complete Plutus Ledger API types.</p>
<ul>
<li>The updated LambdaBuffers Plutus schema for the complete Plutus Ledger API types can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/libs/lbf-plutus/Plutus">here</a></li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
The documentation and devops tooling is available to facilitate easy adoption.</p>
<ul>
<li>
<p>The entire project's documentation can be found in the documentation website <a href="https://mlabs-haskell.github.io/lambda-buffers/">here</a></p>
</li>
<li>
<p>Devops tooling can be found in the form of Nix functions for conveniently creating Haskell or PlutusTx projects found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/extras/lbf-nix/build.nix#L14-L52">here</a>.</p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Git tags for official releases of LambdaBuffers.</p>
<ul>
<li>The <a href="https://github.com/mlabs-haskell/lambda-buffers/releases">releases page</a> contains git tags for official releases of LambdaBuffers.</li>
</ul>
</li>
</ul>
<h2 id="evidence-of-milestone-completion"><a class="header" href="#evidence-of-milestone-completion">Evidence of Milestone Completion</a></h2>
<ul>
<li>
<p><input disabled="" type="checkbox" checked=""/>
The completed and reviewed LambdaBuffers code generator for Haskell's Prelude.</p>
<ul>
<li>
<p>The completed common files for code generation of both Haskell's Prelude and PlutusTx's Prelude can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/Haskell">here</a></p>
</li>
<li>
<p>The Haskell code generator implementation can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/Haskell.hs">here</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
The completed and reviewed LambdaBuffers code generator for PlutusTx's Prelude.</p>
<ul>
<li>
<p>The completed common files for code generation of both Haskell's Prelude and PlutusTx's Prelude can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/tree/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/Haskell">here</a></p>
</li>
<li>
<p>The PlutusTx code generator implementation can be found <a href="https://github.com/mlabs-haskell/lambda-buffers/blob/2e2ff70f155ebcbac07b817f365f1220c24dfdf0/lambda-buffers-codegen/src/LambdaBuffers/Codegen/PlutusTx.hs">here</a></p>
</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Benchmarks of the before and after optimized Nix build times.</p>
<ul>
<li>This was fixed in <a href="https://github.com/mlabs-haskell/lambda-buffers/pull/233">#233</a>, see above for benchmarks.</li>
</ul>
</li>
<li>
<p><input disabled="" type="checkbox" checked=""/>
Demonstrations (in the form of screenshots or simply text) of error messages following the GNU error message format.</p>
<ul>
<li>We can see the following error messages follow the GNU error message format</li>
</ul>
<pre><code class="language-shell">$ lbf-prelude-to-haskell DoesNotExist.lbf
DoesNotExist.lbf: error: the provided module file DoesNotExist.lbf doesn't exist

$ cat TEST.lbf
module TEST

import Prelude (Eq, Json, Maybe, Either, List, Integer)

derive Eq What

$ lbf-prelude-to-haskell TEST.lbf
TEST.lbf:5.11-5.15: error: [module TEST] type What not found in the module's scope Either Integer List Maybe Prelude.Either Prelude.Integer Prelude.List Prelude.Maybe

$ cat ANOTHERTEST.lbf
module ANOTHERTEST

import Prelude (Eq, Json, Maybe, Either, List, Integer)

prod What = (Integer
derive Eq What

$ lbf-prelude-to-haskell ANOTHERTEST.lbf
ANOTHERTEST.lbf:6.7: error:
unexpected keyword
expecting s-expression
</code></pre>
</li>
</ul>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><a href="https://milestones.projectcatalyst.io/projects/1000122/milestones/4">Project Catalyst Milestone 4</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../catalyst10-reports/milestone-3.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../catalyst10-reports/milestone-3.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
